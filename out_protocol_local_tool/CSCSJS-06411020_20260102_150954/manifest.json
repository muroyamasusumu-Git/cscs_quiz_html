{
  "session_id": "CSCSJS-06411020",
  "created_at": "2026-01-02T15:09:54",
  "instruction": "ã€WORK_HEADERï¼ˆå…±é€šIDï¼‰ã€‘\n[SESSION_ID: CSCSJS-06411020]\n[REQUEST_ID: REQ-1361B2E9]\n\nã€USER_INSTRUCTIONã€‘\næ‰‹å‹•é€ä¿¡ãƒœã‚¿ãƒ³ã¨ãã®è¡¨ç¤ºã¨è‡ªå‹•ã‚¯ãƒªãƒƒã‚¯ã®å‡¦ç†éƒ¨åˆ†ã®ã¿ã‚’ã€€ä»¥ä¸‹ã®æœ€æ–°ã®b_sync_merge.jsã€€ã«ã™ã¹ã¦ç§»å‹•ã•ã›ãŸã„\n\n// assets/b_sync_merge.js\n// Bãƒ‘ãƒ¼ãƒˆ â†’ SYNC é€£æºï¼ˆattempt_log å»ƒæ­¢ç‰ˆï¼‰\n/**\n * ã€ã‚­ãƒ¼å¯¾å¿œè¡¨ï¼ˆLocalStorage â‡” SYNC state â‡” delta payloadï¼‰ã€‘\n *  â€»ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã€Œæ–°ã—ãã‚­ãƒ¼ã‚’è¿½åŠ ï¼æ—¢å­˜ã‚­ãƒ¼åã‚’å¤‰æ›´ã€ã—ãŸå ´åˆã¯ã€\n *    å¿…ãšã“ã®è¡¨ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ï¼ˆæ’ä¹…ãƒ«ãƒ¼ãƒ«ï¼‰ã€‚\n *\n * â–¼ å•é¡Œåˆ¥ç´¯è¨ˆ\n *   - localStorage: \"cscs_q_correct_total:\" + qid\n *       â‡” SYNC state: correct[qid]\n *       â‡” delta payload: correctDelta[qid]\n *   - localStorage: \"cscs_q_wrong_total:\" + qid\n *       â‡” SYNC state: incorrect[qid]\n *       â‡” delta payload: incorrectDelta[qid]\n *\n * â–¼ å•é¡Œåˆ¥ 3 é€£ç¶šæ­£è§£ï¼ˆâ­ï¸ç”¨ï¼‰\n *   - localStorage: \"cscs_q_correct_streak3_total:\" + qid\n *       â‡” SYNC state: streak3[qid]\n *       â‡” delta payload: streak3Delta[qid]\n *   - localStorage: \"cscs_q_correct_streak_len:\" + qid\n *       â‡” SYNC state: streakLen[qid]\n *       â‡” delta payload: streakLenDelta[qid]ï¼ˆã€Œå¢—åˆ†ã€ã§ã¯ãªãæœ€æ–°å€¤ï¼‰\n *   - localStorage: \"cscs_q_correct_streak_max:\" + qid\n *       â‡” SYNC state: streakMax[qid]\n *       â‡” delta payload: streakMaxDelta[qid]ï¼ˆã€Œå¢—åˆ†ã€ã§ã¯ãªãæœ€æ–°å€¤ï¼‰\n *   - localStorage: \"cscs_q_correct_streak_max_day:\" + qid\n *       â‡” SYNC state: streakMaxDay[qid]\n *       â‡” delta payload: streakMaxDayDelta[qid]ï¼ˆã€Œå¢—åˆ†ã€ã§ã¯ãªãæœ€æ–°å€¤ / JST YYYYMMDDï¼‰\n *\n * â–¼ å•é¡Œåˆ¥ 3 é€£ç¶šä¸æ­£è§£ï¼ˆğŸ’£ç”¨ï¼‰\n *   - localStorage: \"cscs_q_wrong_streak3_total:\" + qid\n *       â‡” SYNC state: streak3Wrong[qid]\n *       â‡” delta payload: streak3WrongDelta[qid]\n *   - localStorage: \"cscs_q_wrong_streak_len:\" + qid\n *       â‡” SYNC state: streakWrongLen[qid]\n *       â‡” delta payload: streakWrongLenDelta[qid]ï¼ˆã€Œå¢—åˆ†ã€ã§ã¯ãªãæœ€æ–°å€¤ï¼‰\n *   - localStorage: \"cscs_q_wrong_streak_max:\" + qid\n *       â‡” SYNC state: streakWrongMax[qid]\n *       â‡” delta payload: streakWrongMaxDelta[qid]ï¼ˆã€Œå¢—åˆ†ã€ã§ã¯ãªãæœ€æ–°å€¤ï¼‰\n *   - localStorage: \"cscs_q_wrong_streak_max_day:\" + qid\n *       â‡” SYNC state: streakWrongMaxDay[qid]\n *       â‡” delta payload: streakWrongMaxDayDelta[qid]ï¼ˆã€Œå¢—åˆ†ã€ã§ã¯ãªãæœ€æ–°å€¤ / JST YYYYMMDDï¼‰\n *\n * â–¼ Bå°‚ç”¨ã€Œå‰å› SYNC æ¸ˆã¿ç´¯è¨ˆã€ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆSYNC state ã«ã¯å­˜åœ¨ã—ãªã„ï¼‰\n *   - localStorage: \"cscs_sync_last_c:\"   + qid â€¦ æ­£è§£ç´¯è¨ˆã®å‰å›åŒæœŸå€¤\n *   - localStorage: \"cscs_sync_last_w:\"   + qid â€¦ ä¸æ­£è§£ç´¯è¨ˆã®å‰å›åŒæœŸå€¤\n *   - localStorage: \"cscs_sync_last_s3:\"  + qid â€¦ 3é€£ç¶šæ­£è§£ç´¯è¨ˆã®å‰å›åŒæœŸå€¤\n *   - localStorage: \"cscs_sync_last_ws3:\" + qid â€¦ 3é€£ç¶šä¸æ­£è§£ç´¯è¨ˆã®å‰å›åŒæœŸå€¤\n *\n * ============================================================\n * ã€ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ä¸€è¦§ï¼ˆã“ã®ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ â€œæ¬ æãƒ»çŸ›ç›¾â€ ã‚’ä¸¸ã‚ã‚‹ç®‡æ‰€ã®ç´¢å¼•ï¼‰ã€‘\n * ------------------------------------------------------------\n *  Fallback-01: loadInt() ã§ localStorage miss(null) ã‚’ 0 æ‰±ã„\n *    - ç™ºç”Ÿæ¡ä»¶: localStorage.getItem(key) ãŒ null\n *    - å‡¦ç†å†…å®¹: 0 ã‚’è¿”ã—ã¦å‡¦ç†ç¶™ç¶šï¼ˆé€ä¿¡ payload ã¯å£Šã•ãªã„ï¼‰\n *    - å½±éŸ¿/æ³¨æ„: ã€Œæœ¬å½“ã¯ã‚­ãƒ¼æ¬ æï¼ˆè¨ˆæ¸¬æœªå®Ÿè¡Œ/åˆ¥namespace/åˆ¥ç«¯æœ«ï¼‰ã€ã§ã‚‚\n *                 â€œ0åŸºæº–ã®å·®åˆ†â€ ãŒæˆç«‹ã—ã¦ã—ã¾ã„ã€å•é¡ŒãŒéš ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n *\n *  Fallback-02: loadInt() ã§ parseInt å¤±æ•—(NaNç­‰) ã‚’ 0 æ‰±ã„\n *    - ç™ºç”Ÿæ¡ä»¶: å€¤ãŒæ•°å€¤æ–‡å­—åˆ—ã§ãªã„ / ç ´æå€¤\n *    - å‡¦ç†å†…å®¹: 0 ã‚’è¿”ã—ã¦å‡¦ç†ç¶™ç¶š\n *    - å½±éŸ¿/æ³¨æ„: ç ´æå€¤ãŒå…¥ã£ã¦ã‚‚ â€œç„¡ã‹ã£ãŸã“ã¨â€ ã«ã—ã¦é€²ã‚€ãŸã‚ã€\n *                 ç›£è¦–ãªã—ã ã¨åŸå› ç©¶æ˜ãŒé…ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n *\n *  Fallback-03: ã€Œå‰å›SYNCæ¸ˆã¿ç´¯è¨ˆ(KEY_LAST_*)ã€ãŒæœªä¿å­˜ã§ã‚‚ 0 åŸºæº–ã§å·®åˆ†è¨ˆç®—\n *    - ç™ºç”Ÿæ¡ä»¶: åˆå›åŒæœŸ / KEY_LAST_* ãŒ null\n *    - å‡¦ç†å†…å®¹: cLast/wLast/s3Last/s3WrongLast ã‚’ 0 ã¨ã—ã¦ delta ã‚’ä½œã‚‹\n *    - å½±éŸ¿/æ³¨æ„: åˆå›åŒæœŸã®åˆ©ä¾¿æ€§ã¯ä¸ŠãŒã‚‹ãŒã€\n *                 ã€ŒKEY_LAST_* ãŒæ¶ˆãˆãŸ/åˆ¥namespaceã§èª­ã‚“ã§ã„ã‚‹ã€çŠ¶æ³ã§ã‚‚\n *                 åˆå›æ‰±ã„ã§ â€œå…¨é‡å·®åˆ†â€ ãŒé€ã‚Œã¦ã—ã¾ã„ã€å•é¡ŒãŒéš ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n *\n *  Fallback-04: s3Last > s3Now ã‚’æ¤œå‡ºã—ãŸã‚‰ KEY_LAST_S3 ã‚’ now ã« clampï¼ˆä¸‹ã’ã‚‹ï¼‰\n *    - ç™ºç”Ÿæ¡ä»¶: å‰å›åŒæœŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç¾åœ¨ç´¯è¨ˆã‚ˆã‚Šå¤§ãã„ï¼ˆçŸ›ç›¾ï¼‰\n *    - å‡¦ç†å†…å®¹: s3Last = s3Now ã«ã—ã¦ localStorage(KEY_LAST_S3) ã‚’ä¸Šæ›¸ã\n *    - å½±éŸ¿/æ³¨æ„: â€œæ¸›ç®—é€ä¿¡â€ ã‚’é¿ã‘ã‚‹ç›®çš„ã ãŒã€\n *                 ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåˆ¥namespaceç”±æ¥ã§å¤§ãã„ã€ç­‰ã§ã‚‚\n *                 å¼·åˆ¶çš„ã«å¸³å°»ã‚’åˆã‚ã›ã¦ã—ã¾ã„ã€ã‚ºãƒ¬ã®åŸå› ãŒè¦‹ãˆã«ãããªã‚‹ã€‚\n *\n *  Fallback-05: s3WrongLast > s3WrongNow ã‚’æ¤œå‡ºã—ãŸã‚‰ KEY_LAST_S3_WRONG ã‚’ now ã« clampï¼ˆä¸‹ã’ã‚‹ï¼‰\n *    - ç™ºç”Ÿæ¡ä»¶: å‰å›åŒæœŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒç¾åœ¨ç´¯è¨ˆã‚ˆã‚Šå¤§ãã„ï¼ˆçŸ›ç›¾ï¼‰\n *    - å‡¦ç†å†…å®¹: s3WrongLast = s3WrongNow ã«ã—ã¦ localStorage(KEY_LAST_S3_WRONG) ã‚’ä¸Šæ›¸ã\n *    - å½±éŸ¿/æ³¨æ„: Fallback-04 ã¨åŒæ§˜ã€‚çŸ›ç›¾ã® â€œåŸå› â€ ã‚’è¦†ã„éš ã™ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€‚\n *\n *  Fallback-06: delta ãŒè² ã«ãªã£ãŸã‚‰ 0 ã«ä¸¸ã‚ã‚‹ï¼ˆæ¸›ç®—é€ä¿¡ç¦æ­¢ã®ãŸã‚ï¼‰\n *    - ç™ºç”Ÿæ¡ä»¶: (now - last) < 0\n *    - å‡¦ç†å†…å®¹: Math.max(0, rawDelta) ã§ 0 ã«ã™ã‚‹\n *    - å½±éŸ¿/æ³¨æ„: â€œã‚ºãƒ¬ã¦ã„ã‚‹â€ ã“ã¨è‡ªä½“ã¯ãƒ­ã‚°ã§è­¦å‘Šã•ã‚Œã‚‹ãŒã€\n *                 çµæœã¨ã—ã¦é€ä¿¡ãŒé€²ã‚“ã§ã—ã¾ã†ãŸã‚ã€æ ¹æœ¬åŸå› ã®ç‰¹å®šãŒé…ã‚Œã‚„ã™ã„ã€‚\n *\n *  Fallback-07: SYNC_KEY ã®å–å¾—ãŒå¤±æ•—ã—ãŸå ´åˆã§ã‚‚ä¾‹å¤–ã«ã—ã¦å‡¦ç†ã‚’è½ã¨ã™ï¼ˆé€ä¿¡ã—ãªã„ï¼‰\n *    - ç™ºç”Ÿæ¡ä»¶: localStorage ä¾‹å¤– / cscs_sync_key ãŒç©º\n *    - å‡¦ç†å†…å®¹: throw(\"SYNC_KEY_MISSING_LOCAL\") â†’ merge ã‚’å©ã‹ãªã„\n *    - å½±éŸ¿/æ³¨æ„: â€œé€ä¿¡ã§ããªã„â€ ã‚’æ˜ç¤ºã™ã‚‹ã‚¬ãƒ¼ãƒ‰ï¼ˆã“ã‚Œã¯ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã¨ã„ã†ã‚ˆã‚Šåœæ­¢ã‚¬ãƒ¼ãƒ‰ï¼‰ã€‚\n * ============================================================\n *\n * ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ŒlocalStorage â†’ /api/sync/merge ã® delta payloadã€ã‚’çµ„ã¿ç«‹ã¦ã‚‹å½¹å‰²ã ã‘ã‚’æŒã¤ã€‚\n * SYNC å´ã®å®Œå…¨ãªæ§‹é€ ã¯ merge.ts / state.ts ã®ä»•æ§˜ã‚³ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã™ã‚‹ã“ã¨ã€‚\n *\n * ã€é‡è¦ã€‘ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ /api/sync/state ã‚’å‚ç…§ã—ãªã„ãŸã‚ã€\n *          â€œã©ã® namespace / KV ã‚’è¦‹ã¦ã„ã‚‹ã‹â€ ã¯æ¤œçŸ¥ã§ããªã„ã€‚\n *          ãã®ãŸã‚ã€ä¸Šè¨˜ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãŒåƒãã¨ã€Œã‚ºãƒ¬ã¦ã„ã¦ã‚‚é€ã‚Œã¦ã—ã¾ã†ã€çŠ¶æ³ãŒèµ·ãã†ã‚‹ã€‚\n */\n\n(function(){\n  // Bãƒšãƒ¼ã‚¸ã® URL ã‹ã‚‰ qid = \"YYYYMMDD-NNN\" ã‚’å–å¾—\n  function detectInfo(){\n    const m = location.pathname.match(/_build_cscs_(\\d{8})\\/slides\\/q(\\d{3})_b/);\n    if (!m) return null;\n\n    const day = m[1];       // ä¾‹: \"20250926\"ï¼ˆæ–‡å­—åˆ—ã€‚qidç”Ÿæˆã«ä½¿ã†ï¼‰\n    const n3  = m[2];       // ä¾‹: \"001\"\n    const qid = `${day}-${n3}`;\n\n    const dayNum = Number(day); // â˜… çµ±ä¸€: numberï¼ˆYYYYMMDDï¼‰\n    if (!Number.isFinite(dayNum) || !/^\\d{8}$/.test(String(dayNum))) return null;\n\n    return { day, dayNum, n3, qid };\n  }\n\n  const info = detectInfo();\n  if (!info) return;\n\n  // b_judge_record.js ãŒç®¡ç†ã—ã¦ã„ã‚‹ã€Œæœ¬ç‰©ã®ç´¯ç©ã‚­ãƒ¼ã€\n  const KEY_COR                  = `cscs_q_correct_total:${info.qid}`;\n  const KEY_WRG                  = `cscs_q_wrong_total:${info.qid}`;\n  const KEY_S3                   = `cscs_q_correct_streak3_total:${info.qid}`;\n  const KEY_STREAK_LEN           = `cscs_q_correct_streak_len:${info.qid}`;\n  const KEY_STREAK_MAX           = `cscs_q_correct_streak_max:${info.qid}`;\n  const KEY_STREAK_MAX_DAY       = `cscs_q_correct_streak_max_day:${info.qid}`;\n  const KEY_S3_WRONG             = `cscs_q_wrong_streak3_total:${info.qid}`;\n  const KEY_STREAK_WRONG_LEN     = `cscs_q_wrong_streak_len:${info.qid}`;\n  const KEY_STREAK_WRONG_MAX     = `cscs_q_wrong_streak_max:${info.qid}`;\n  const KEY_STREAK_WRONG_MAX_DAY = `cscs_q_wrong_streak_max_day:${info.qid}`;\n\n  // Bå´ã ã‘ã§ä½¿ã†ã€Œæœ€å¾Œã« SYNC æ¸ˆã¿ã ã£ãŸã¨ãã®ç´¯ç©å€¤ã€\n  const KEY_LAST_COR      = `cscs_sync_last_c:${info.qid}`;\n  const KEY_LAST_WRG      = `cscs_sync_last_w:${info.qid}`;\n  const KEY_LAST_S3       = `cscs_sync_last_s3:${info.qid}`;\n  const KEY_LAST_S3_WRONG = `cscs_sync_last_ws3:${info.qid}`;\n\n  // Bå´ã ã‘ã§ä½¿ã†ã€Œæœ€å¾Œã« SYNC æ¸ˆã¿ã ã£ãŸã¨ãã® max / max_dayï¼ˆæœ€æ–°å€¤é€ä¿¡ã®åŸºæº–ï¼‰ã€\n  const KEY_LAST_STREAK_MAX           = `cscs_sync_last_streak_max:${info.qid}`;\n  const KEY_LAST_STREAK_MAX_DAY       = `cscs_sync_last_streak_max_day:${info.qid}`;\n  const KEY_LAST_STREAK_WRONG_MAX     = `cscs_sync_last_streak_wmax:${info.qid}`;\n  const KEY_LAST_STREAK_WRONG_MAX_DAY = `cscs_sync_last_streak_wmax_day:${info.qid}`;\n\n  function loadInt(key){\n    // Fallback-01: localStorage miss(null) â†’ 0\n    // è£œè¶³: ã“ã“ã§ 0 æ‰±ã„ã«ã™ã‚‹ã¨ã€Œæœ¬å½“ã¯ã‚­ãƒ¼ãŒç„¡ã„ï¼ˆnamespaceã‚ºãƒ¬/è¨ˆæ¸¬æœªå®Ÿè¡Œ/åˆ¥ç«¯æœ«ï¼‰ã€ã§ã‚‚\n    //       å‡¦ç†ãŒç¶™ç¶šã—ã€çµæœã¨ã—ã¦â€œé€ã‚Œã¦ã—ã¾ã†â€ï¼å•é¡ŒãŒéš ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n    const v = localStorage.getItem(key);\n    if (v == null) {\n      console.log(\"[SYNC/B][fallback][loadInt] localStorage miss -> 0\", { key });\n      return 0;\n    }\n\n    // Fallback-02: parseInt å¤±æ•—(NaNç­‰) â†’ 0\n    // è£œè¶³: å€¤ã®ç ´æã‚„æƒ³å®šå¤–ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã§ã‚‚ 0 ã¨ã—ã¦é€²ã‚€ãŸã‚ã€\n    //       ç›£è¦–ãŒå¼±ã„ã¨ã€Œå£Šã‚Œã¦ã„ã‚‹ã®ã«é€ã‚Œã¦ã—ã¾ã†ã€çŠ¶æ…‹ã«ãªã‚Šã‚„ã™ã„ã€‚\n    const n = parseInt(v, 10);\n    if (!Number.isFinite(n)) {\n      console.warn(\"[SYNC/B][fallback][loadInt] parseInt failed -> 0\", { key, raw: v });\n      return 0;\n    }\n\n    // æ­£å¸¸ç³»\n    console.log(\"[SYNC/B][ok][loadInt] loaded\", { key, raw: v, value: n });\n    return n;\n  }\n\n  function loadDayOptional(key){\n    const raw = localStorage.getItem(key);\n    if (raw == null) {\n      console.log(\"[SYNC/B][ok][loadDayOptional] localStorage miss -> (skip)\", { key });\n      return { ok: false, value: null, raw: null };\n    }\n\n    const n = parseInt(raw, 10);\n    if (!Number.isFinite(n) || !/^\\d{8}$/.test(String(n))) {\n      console.warn(\"[SYNC/B][warn][loadDayOptional] invalid day -> (skip)\", { key, raw });\n      return { ok: false, value: null, raw: raw };\n    }\n\n    console.log(\"[SYNC/B][ok][loadDayOptional] loaded\", { key, raw: raw, value: n });\n    return { ok: true, value: n, raw: raw };\n  }\n\n  function loadIntOptional(key){\n    const raw = localStorage.getItem(key);\n    if (raw == null) {\n      console.log(\"[SYNC/B][ok][loadIntOptional] localStorage miss -> (skip)\", { key });\n      return { ok: false, value: null, raw: null };\n    }\n\n    const n = parseInt(raw, 10);\n    if (!Number.isFinite(n)) {\n      console.warn(\"[SYNC/B][warn][loadIntOptional] parseInt failed -> (skip)\", { key, raw: raw });\n      return { ok: false, value: null, raw: raw };\n    }\n\n    console.log(\"[SYNC/B][ok][loadIntOptional] loaded\", { key, raw: raw, value: n });\n    return { ok: true, value: n, raw: raw };\n  }\n\n  function saveInt(key, value){\n    localStorage.setItem(key, String(value));\n  }\n  \n  async function syncFromTotals(){\n    // 1) ç¾åœ¨ã®ç´¯ç©ï¼ˆb_judge_record.js ãŒæ›¸ã„ãŸå€¤ï¼‰\n    const cNow              = loadInt(KEY_COR);\n    const wNow              = loadInt(KEY_WRG);\n    const s3Now             = loadInt(KEY_S3);\n    const streakLenNow      = loadInt(KEY_STREAK_LEN);\n\n    // max / max_day ã¯ã€Œæ¬ æã‚’ 0 ã¨ã—ã¦é€ã‚‹ã€ã¨ SYNC ã‚’æ±šã™ã®ã§ optional èª­ã¿\n    const streakMaxOpt       = loadIntOptional(KEY_STREAK_MAX);\n    const streakMaxDayOpt    = loadDayOptional(KEY_STREAK_MAX_DAY);\n\n    const s3WrongNow         = loadInt(KEY_S3_WRONG);\n    const streakWrongLenNow  = loadInt(KEY_STREAK_WRONG_LEN);\n\n    const streakWrongMaxOpt    = loadIntOptional(KEY_STREAK_WRONG_MAX);\n    const streakWrongMaxDayOpt = loadDayOptional(KEY_STREAK_WRONG_MAX_DAY);\n\n    // 2) å‰å› SYNC æ™‚ç‚¹ã®å€¤ï¼ˆå­˜åœ¨ã—ãªã‘ã‚Œã° 0 æ‰±ã„ï¼‰\n    // Fallback-03: KEY_LAST_* miss(null) ã‚’ loadInt() ãŒ 0 æ‰±ã„ã«ã™ã‚‹ã“ã¨ã§ã€Œåˆå›åŒæœŸã€ã¨ã—ã¦å·®åˆ†ã‚’ä½œã‚Œã‚‹ã€‚\n    // è£œè¶³: ä¾¿åˆ©ã ãŒã€KEY_LAST_* ãŒæ¶ˆãˆãŸ/åˆ¥namespaceã®å€¤ã‚’è¦‹ã¦ã„ã‚‹ç­‰ã§ã‚‚ â€œåˆå›æ‰±ã„â€ ã«ãªã‚Šã€\n    //       ã€Œã‚ºãƒ¬ã¦ã¦ã‚‚é€ã‚Œã¦ã—ã¾ã†ã€ï¼å•é¡ŒãŒéš ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n    const cLast       = loadInt(KEY_LAST_COR);\n    const wLast       = loadInt(KEY_LAST_WRG);\n    let   s3Last      = loadInt(KEY_LAST_S3);\n    let   s3WrongLast = loadInt(KEY_LAST_S3_WRONG);\n\n    console.log(\"[SYNC/B][ok][lastTotals] loaded last totals (0 means first sync or missing)\", {\n      qid: info.qid,\n      KEY_LAST_COR,\n      KEY_LAST_WRG,\n      KEY_LAST_S3,\n      KEY_LAST_S3_WRONG,\n      cLast,\n      wLast,\n      s3Last,\n      s3WrongLast\n    });\n\n    // correct å´ã® 3é€£ç¶šæ­£è§£ç´¯è¨ˆã«ã¤ã„ã¦ã€local ãŒ s3Last ã‚ˆã‚Šå°ã•ã„å ´åˆ â†’ s3Last ã‚’ local ã«å¼·åˆ¶ä¿®æ­£\n    // Fallback-04: KEY_LAST_S3ï¼ˆå‰å›åŒæœŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰ãŒç¾åœ¨ç´¯è¨ˆ(s3Now)ã‚’è¶…ãˆã‚‹çŸ›ç›¾ãŒå‡ºãŸã‚‰ã€\n    //              â€œæ¸›ç®—é€ä¿¡â€ã‚’èµ·ã“ã•ãªã„ãŸã‚ã« KEY_LAST_S3 ã‚’ now ã« clampï¼ˆä¸‹ã’ã¦ä¸Šæ›¸ãï¼‰ã™ã‚‹ã€‚\n    // è£œè¶³: ã“ã“ã§å¸³å°»ã‚’åˆã‚ã›ã‚‹ã¨ã€ŒãªãœçŸ›ç›¾ã—ãŸã‹ï¼ˆnamespaceã‚ºãƒ¬/ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç ´æ/æ‰‹å‹•æ“ä½œï¼‰ã€ãŒ\n    //       è¿½ã„ã«ãããªã‚‹ã€‚ï¼ã‚ºãƒ¬ã®æ ¹æœ¬åŸå› ãŒéš ã‚Œã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã€‚\n    if (s3Last > s3Now) {\n      console.warn(\"[SYNC/B][fallback][guard] s3Last > s3Now -> clamp last to now\", {\n        qid: info.qid,\n        KEY_LAST_S3,\n        before_s3Last: s3Last,\n        s3Now\n      });\n\n      s3Last = s3Now;\n      saveInt(KEY_LAST_S3, s3Last);\n\n      console.log(\"[SYNC/B][ok][guard] saved corrected KEY_LAST_S3\", {\n        qid: info.qid,\n        KEY_LAST_S3,\n        after_s3Last: s3Last\n      });\n    }\n\n    // wrong å´ã® 3é€£ç¶šä¸æ­£è§£ç´¯è¨ˆã«ã¤ã„ã¦ã‚‚åŒæ§˜ã«ã‚¬ãƒ¼ãƒ‰\n    // Fallback-05: KEY_LAST_S3_WRONGï¼ˆå‰å›åŒæœŸã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰ãŒç¾åœ¨ç´¯è¨ˆ(s3WrongNow)ã‚’è¶…ãˆã‚‹çŸ›ç›¾ãŒå‡ºãŸã‚‰ã€\n    //              â€œæ¸›ç®—é€ä¿¡â€ã‚’èµ·ã“ã•ãªã„ãŸã‚ã« KEY_LAST_S3_WRONG ã‚’ now ã« clampï¼ˆä¸‹ã’ã¦ä¸Šæ›¸ãï¼‰ã™ã‚‹ã€‚\n    // è£œè¶³: Fallback-04 ã¨åŒæ§˜ã€å¸³å°»åˆã‚ã›ã«ã‚ˆã‚Šã€Œã‚ºãƒ¬ã¦ã„ã‚‹ç†ç”±ã€ãŒè¦‹ãˆã«ãããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n    if (s3WrongLast > s3WrongNow) {\n      console.warn(\"[SYNC/B][fallback][guard] s3WrongLast > s3WrongNow -> clamp last to now\", {\n        qid: info.qid,\n        KEY_LAST_S3_WRONG,\n        before_s3WrongLast: s3WrongLast,\n        s3WrongNow\n      });\n\n      s3WrongLast = s3WrongNow;\n      saveInt(KEY_LAST_S3_WRONG, s3WrongLast);\n\n      console.log(\"[SYNC/B][ok][guard] saved corrected KEY_LAST_S3_WRONG\", {\n        qid: info.qid,\n        KEY_LAST_S3_WRONG,\n        after_s3WrongLast: s3WrongLast\n      });\n    }\n\n    // 3) å·®åˆ†ï¼ˆãƒã‚¤ãƒŠã‚¹ã¯é€ã‚‰ãªã„ï¼‰\n    // Fallback-06: delta ã¯åŠ ç®—å°‚ç”¨ã®ãŸã‚ (now - last) ãŒè² ãªã‚‰ 0 ã«ä¸¸ã‚ã¦ã€Œé€ã‚‰ãªã„ã€ã€‚\n    // è£œè¶³: ã“ã“ã§ â€œã‚ºãƒ¬â€ ã‚’ 0 ã«æ½°ã™ã®ã§ã€è¡¨é¢ä¸Šã¯é€ä¿¡å‡¦ç†ãŒé€²ã¿å¾—ã‚‹ã€‚\n    //       ãƒ­ã‚°è­¦å‘Šã‚’è¦‹è½ã¨ã™ã¨ã€Œã‚ºãƒ¬ãŒã‚ã£ã¦ã‚‚é‹ç”¨ã§ãã¦ã—ã¾ã†ã€ï¼å•é¡ŒãŒéš ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã€‚\n    const rawDc       = cNow       - cLast;\n    const rawDw       = wNow       - wLast;\n    const rawDs3      = s3Now      - s3Last;\n    const rawDs3Wrong = s3WrongNow - s3WrongLast;\n\n    const dc       = Math.max(0, rawDc);\n    const dw       = Math.max(0, rawDw);\n    const ds3      = Math.max(0, rawDs3);\n    const ds3Wrong = Math.max(0, rawDs3Wrong);\n\n    if (rawDc < 0 || rawDw < 0 || rawDs3 < 0 || rawDs3Wrong < 0) {\n      console.warn(\"[SYNC/B][fallback][deltaClamp] negative delta detected -> clamped to 0\", {\n        qid: info.qid,\n        rawDc,\n        rawDw,\n        rawDs3,\n        rawDs3Wrong,\n        dc,\n        dw,\n        ds3,\n        ds3Wrong,\n        cNow,\n        cLast,\n        wNow,\n        wLast,\n        s3Now,\n        s3Last,\n        s3WrongNow,\n        s3WrongLast\n      });\n    } else {\n      console.log(\"[SYNC/B][ok][delta] computed delta (all non-negative)\", {\n        qid: info.qid,\n        dc,\n        dw,\n        ds3,\n        ds3Wrong\n      });\n    }\n\n    // streak3TodayDelta ã¯ cscs_sync_view_b.js å´ã‹ã‚‰ã®ã¿é€ä¿¡ã™ã‚‹ãŸã‚ã€\n    // ã“ã“ã§ã¯ streak3Today ç³»ã¯ä¸€åˆ‡æ‰±ã‚ãªã„ã€‚\n    // 3é€£ç¶šä¸æ­£è§£é–¢é€£ã‚‚ã€Œä»Šæ—¥ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ã€ã§ã¯ãªãç´¯è¨ˆãƒ»ç¾åœ¨é•·ã ã‘ã‚’æ‰±ã†ã€‚\n    if (!dc && !dw && !ds3 && !ds3Wrong && streakLenNow === 0 && streakWrongLenNow === 0 && !maxChanged && !wrongMaxChanged) {\n      console.log(\"[SYNC/B] â˜…é€ä¿¡ãªã—ï¼ˆno deltaï¼‰\", {\n        qid: info.qid,\n        cNow,\n        wNow,\n        s3Now,\n        streakLenNow,\n        s3WrongNow,\n        streakWrongLenNow,\n        cLast,\n        wLast,\n        s3Last,\n        s3WrongLast,\n        maxChanged,\n        wrongMaxChanged\n      });\n      return;\n    }\n\n    // max / max_day ã¯ã€Œæ›´æ–°ãŒèµ·ããŸã¨ãã ã‘ã€é€ä¿¡ã™ã‚‹ãŸã‚ã€å‰å›é€ä¿¡å€¤ã‚’èª­ã‚€\n    const lastMaxOpt          = loadIntOptional(KEY_LAST_STREAK_MAX);\n    const lastMaxDayOpt       = loadDayOptional(KEY_LAST_STREAK_MAX_DAY);\n    const lastWrongMaxOpt     = loadIntOptional(KEY_LAST_STREAK_WRONG_MAX);\n    const lastWrongMaxDayOpt  = loadDayOptional(KEY_LAST_STREAK_WRONG_MAX_DAY);\n\n    const maxChanged = (\n      (streakMaxOpt.ok && (!lastMaxOpt.ok || lastMaxOpt.value !== streakMaxOpt.value)) ||\n      (streakMaxDayOpt.ok && (!lastMaxDayOpt.ok || lastMaxDayOpt.value !== streakMaxDayOpt.value))\n    );\n\n    const wrongMaxChanged = (\n      (streakWrongMaxOpt.ok && (!lastWrongMaxOpt.ok || lastWrongMaxOpt.value !== streakWrongMaxOpt.value)) ||\n      (streakWrongMaxDayOpt.ok && (!lastWrongMaxDayOpt.ok || lastWrongMaxDayOpt.value !== streakWrongMaxDayOpt.value))\n    );\n\n    // 4) /api/sync/merge ã¸ã€Œå·®åˆ†ã ã‘ã€ã‚’é€ä¿¡\n    const payload = {\n      // è¿½åŠ : payload ã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã«ç¨®åˆ¥ã‚’æ˜ç¤ºã—ã€ã€Œdiffï¼ˆå·®åˆ†ï¼‰ã€é€ä¿¡ã§ã‚ã‚‹ã“ã¨ã‚’ã‚µãƒ¼ãƒå´ã«ä¼ãˆã‚‹\n      payloadType: \"diff\",\n\n      // æ—¢å­˜: å·®åˆ†ï¼ˆå¢—åˆ†ï¼‰ã§é€ã‚‹ã‚­ãƒ¼ï¼ˆqidâ†’deltaï¼‰\n      correctDelta:         dc       > 0 ? { [info.qid]: dc       } : {},\n      incorrectDelta:       dw       > 0 ? { [info.qid]: dw       } : {},\n      streak3Delta:         ds3      > 0 ? { [info.qid]: ds3      } : {},\n      streak3WrongDelta:    ds3Wrong > 0 ? { [info.qid]: ds3Wrong } : {},\n\n      // æ—¢å­˜: ã€Œå¢—åˆ†ã€ã§ã¯ãªã â€œæœ€æ–°å€¤â€ ã‚’é€ã‚‹ã‚­ãƒ¼ï¼ˆqidâ†’currentï¼‰\n      streakLenDelta:                      { [info.qid]: streakLenNow },\n      streakWrongLenDelta:                { [info.qid]: streakWrongLenNow },\n\n      // â˜…è¿½åŠ : ã€Œæœ€é«˜é€£ç¶šã€(max / max_day) ã¯ â€œæ›´æ–°ãŒèµ·ããŸã¨ãã ã‘â€ æœ€æ–°å€¤é€ä¿¡ï¼ˆæ¬ æã¯é€ã‚‰ãªã„ï¼‰\n      streakMaxDelta:                      (maxChanged && streakMaxOpt.ok) ? { [info.qid]: streakMaxOpt.value } : {},\n      streakMaxDayDelta:                   (maxChanged && streakMaxDayOpt.ok) ? { [info.qid]: streakMaxDayOpt.value } : {},\n      streakWrongMaxDelta:                 (wrongMaxChanged && streakWrongMaxOpt.ok) ? { [info.qid]: streakWrongMaxOpt.value } : {},\n      streakWrongMaxDayDelta:              (wrongMaxChanged && streakWrongMaxDayOpt.ok) ? { [info.qid]: streakWrongMaxDayOpt.value } : {},\n\n      // æ—¢å­˜: é€ä¿¡æ™‚åˆ»\n      updatedAt: Date.now()\n    };\n\n    console.log(\"[SYNC/B] merge payload (no streak3TodayDelta)\", {\n      qid: info.qid,\n      cNow,\n      wNow,\n      s3Now,\n      streakLenNow,\n      s3WrongNow,\n      streakWrongLenNow,\n      cLast,\n      wLast,\n      s3Last,\n      s3WrongLast,\n      dc,\n      dw,\n      ds3,\n      ds3Wrong,\n      payload\n    });\n\n    try{\n      let _syncKey = \"\";\n      try{\n        _syncKey = localStorage.getItem(\"cscs_sync_key\") || \"\";\n      }catch(_){\n        // è£œè¶³: localStorage ä¾‹å¤–æ™‚ã¯ã‚­ãƒ¼å–å¾—ã‚’è«¦ã‚ã¦ç©ºæ–‡å­—ã«ã™ã‚‹ï¼ˆã“ã“ã§é€ä¿¡ã¯æ­¢ã¾ã‚‹ï¼‰ã€‚\n        //       â€œé€ã‚Œã¡ã‚ƒã†â€ æ–¹å‘ã®éš ã‚Œã§ã¯ãªãã€ã€Œé€ã‚Œãªã„åŸå› ã€ãŒã‚­ãƒ¼å–å¾—å¤±æ•—ã«é›†ç´„ã•ã‚Œã‚‹ç‚¹ã«æ³¨æ„ã€‚\n        _syncKey = \"\";\n      }\n\n      // ============================================================\n      // é‡è¦:\n      //   /api/sync/merge ã¯ã€Œbootstrap å®Œäº†å¾Œã€ã«ã®ã¿å©ã„ã¦ã‚ˆã„ã€‚\n      //   localStorage ã®å€¤ã¯ â€œbootstrap å®Œäº†å¾Œã«èª­ã‚€â€ ã“ã¨ã«æ„å‘³ãŒã‚ã‚‹ã€‚\n      //   â†’ å…ˆã« promise ã‚’å¾…ã£ã¦ã€æœªæº–å‚™ãªã‚‰æ˜ç¢ºã«ç•°å¸¸åœæ­¢ã™ã‚‹ã€‚\n      // ============================================================\n      if (!window.__CSCS_SYNC_KEY_PROMISE__ || typeof window.__CSCS_SYNC_KEY_PROMISE__.then !== \"function\") {\n        throw new Error(\"SYNC_BOOTSTRAP_NOT_READY\");\n      }\n\n      await window.__CSCS_SYNC_KEY_PROMISE__;\n\n      if (!_syncKey) {\n        // è£œè¶³: bootstrap å®Œäº†å¾Œã«ã‚‚ SYNC_KEY ãŒç„¡ã„å ´åˆã¯ç•°å¸¸ã€‚\n        //       ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ç¶™ç¶šã›ãšã€å•é¡Œã‚’é¡•åœ¨åŒ–ã•ã›ã‚‹åœæ­¢ã‚¬ãƒ¼ãƒ‰ã€‚\n        throw new Error(\"SYNC_KEY_MISSING_LOCAL\");\n      }\n\n      const res = await fetch(\"/api/sync/merge\", {\n        method:\"POST\",\n        headers:{ \"Content-Type\":\"application/json\", \"X-CSCS-Key\": String(_syncKey) },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error(String(res.status));\n\n      // 5) æˆåŠŸã—ãŸã‚‰ã€Œä»Šå›é€ä¿¡å¾Œã®ç´¯ç©å€¤ã€ã‚’ä¿å­˜ã—ã¦æ¬¡å›å·®åˆ†ã®åŸºæº–ã«ã™ã‚‹\n      if (dc)       saveInt(KEY_LAST_COR,      cNow);\n      if (dw)       saveInt(KEY_LAST_WRG,      wNow);\n      if (ds3)      saveInt(KEY_LAST_S3,       s3Now);\n      if (ds3Wrong) saveInt(KEY_LAST_S3_WRONG, s3WrongNow);\n\n      // max/max_day ã¯ã€Œæ›´æ–°ãŒèµ·ããŸã¨ãã ã‘ã€é€ã£ã¦ã„ã‚‹ã®ã§ã€ãã®æ™‚ã ã‘ last ã‚’æ›´æ–°ã™ã‚‹\n      if (maxChanged && streakMaxOpt.ok)       saveInt(KEY_LAST_STREAK_MAX, streakMaxOpt.value);\n      if (maxChanged && streakMaxDayOpt.ok)    saveInt(KEY_LAST_STREAK_MAX_DAY, streakMaxDayOpt.value);\n      if (wrongMaxChanged && streakWrongMaxOpt.ok)    saveInt(KEY_LAST_STREAK_WRONG_MAX, streakWrongMaxOpt.value);\n      if (wrongMaxChanged && streakWrongMaxDayOpt.ok) saveInt(KEY_LAST_STREAK_WRONG_MAX_DAY, streakWrongMaxDayOpt.value);\n\n      console.log(\"[SYNC/B] â˜…é€ä¿¡æˆåŠŸï¼ˆmerge OKï¼‰\", {\n        qid: info.qid\n      });\n    }catch(e){\n      console.warn(\"[SYNC/B] â˜…é€ä¿¡å¤±æ•—ï¼ˆmerge failedï¼‰\", e);\n    }\n  }\n\n  // b_judge_record.js ã®é›†è¨ˆãŒçµ‚ã‚ã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«è¿‘ã¥ã‘ã‚‹ãŸã‚ã€\n  // DOM å®Œæˆå¾Œã« 1 tick é…ã‚‰ã›ã¦å®Ÿè¡Œ\n  function schedule(){\n    if (document.readyState === \"loading\") {\n      window.addEventListener(\"DOMContentLoaded\", function(){\n        setTimeout(syncFromTotals, 0);\n      });\n    } else {\n      setTimeout(syncFromTotals, 0);\n    }\n  }\n\n  function showStreakStatus(){\n    const localTotalCorrect  = loadInt(KEY_S3);\n    const syncedTotalCorrect = loadInt(KEY_LAST_S3);\n    const localTotalWrong    = loadInt(KEY_S3_WRONG);\n    const syncedTotalWrong   = loadInt(KEY_LAST_S3_WRONG);\n\n    console.log(\"== Bãƒ‘ãƒ¼ãƒˆ: 3é€£ç¶šæ­£è§£ / 3é€£ç¶šä¸æ­£è§£ SYNC ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ ==\");\n    console.log(\"qid:\", info.qid);\n\n    // 3é€£ç¶šæ­£è§£å´ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹\n    console.log(\"--- 3é€£ç¶šæ­£è§£(â­ï¸) ---\");\n    console.log(\"localStorage[KEY_S3] =\", localStorage.getItem(KEY_S3), \"â†’\", localTotalCorrect);\n    console.log(\"localStorage[KEY_LAST_S3] =\", localStorage.getItem(KEY_LAST_S3), \"â†’\", syncedTotalCorrect);\n\n    if (localTotalCorrect === 0 && syncedTotalCorrect === 0) {\n      console.log(\"â„¹ ã¾ã ã“ã®å•é¡Œã§ã¯ 3å›é€£ç¶šæ­£è§£ãŒç™ºç”Ÿã—ã¦ã„ã¾ã›ã‚“ã€‚\");\n    } else if (localTotalCorrect === syncedTotalCorrect) {\n      console.log(\"âœ… 3é€£ç¶šæ­£è§£å›æ•°: SYNC \" + String(syncedTotalCorrect) + \" å› / local \" + String(localTotalCorrect) + \" å›ï¼ˆå®Œå…¨ä¸€è‡´ï¼‰ã§ã™ã€‚\");\n    } else if (syncedTotalCorrect < localTotalCorrect) {\n      console.warn(\n        \"âš  åŒæœŸå¾…ã¡ã® 3é€£ç¶šæ­£è§£ãŒã‚ã‚Šã¾ã™ã€‚\",\n        \"SYNC å´ =\", syncedTotalCorrect, \"/ local å´ =\", localTotalCorrect,\n        \"ï¼ˆæ¬¡å›ã® Bãƒ‘ãƒ¼ãƒˆé·ç§»æ™‚ã«è¿½åŠ é€ä¿¡ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ï¼‰\"\n      );\n    } else {\n      console.error(\n        \"âœ• ç•°å¸¸: SYNC å´ã® 3é€£ç¶šæ­£è§£å›æ•°ã®æ–¹ãŒå¤§ãããªã£ã¦ã„ã¾ã™ (SYNC > local)ã€‚\",\n        \"SYNC å´ =\", syncedTotalCorrect, \"/ local å´ =\", localTotalCorrect,\n        \"ä¸€åº¦ãƒªã‚»ãƒƒãƒˆã—ã¦ã‹ã‚‰å†ãƒ†ã‚¹ãƒˆã—ãŸæ–¹ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\"\n      );\n    }\n\n    // 3é€£ç¶šä¸æ­£è§£å´ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆğŸ’£ï¼‰\n    console.log(\"--- 3é€£ç¶šä¸æ­£è§£(ğŸ’£) ---\");\n    console.log(\"localStorage[KEY_S3_WRONG] =\", localStorage.getItem(KEY_S3_WRONG), \"â†’\", localTotalWrong);\n    console.log(\"localStorage[KEY_LAST_S3_WRONG] =\", localStorage.getItem(KEY_LAST_S3_WRONG), \"â†’\", syncedTotalWrong);\n\n    if (localTotalWrong === 0 && syncedTotalWrong === 0) {\n      console.log(\"â„¹ ã¾ã ã“ã®å•é¡Œã§ã¯ 3å›é€£ç¶šä¸æ­£è§£ãŒç™ºç”Ÿã—ã¦ã„ã¾ã›ã‚“ã€‚\");\n    } else if (localTotalWrong === syncedTotalWrong) {\n      console.log(\"âœ… 3é€£ç¶šä¸æ­£è§£å›æ•°: SYNC \" + String(syncedTotalWrong) + \" å› / local \" + String(localTotalWrong) + \" å›ï¼ˆå®Œå…¨ä¸€è‡´ï¼‰ã§ã™ã€‚\");\n    } else if (syncedTotalWrong < localTotalWrong) {\n      console.warn(\n        \"âš  åŒæœŸå¾…ã¡ã® 3é€£ç¶šä¸æ­£è§£ãŒã‚ã‚Šã¾ã™ã€‚\",\n        \"SYNC å´ =\", syncedTotalWrong, \"/ local å´ =\", localTotalWrong,\n        \"ï¼ˆæ¬¡å›ã® Bãƒ‘ãƒ¼ãƒˆé·ç§»æ™‚ã«è¿½åŠ é€ä¿¡ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ï¼‰\"\n      );\n    } else {\n      console.error(\n        \"âœ• ç•°å¸¸: SYNC å´ã® 3é€£ç¶šä¸æ­£è§£å›æ•°ã®æ–¹ãŒå¤§ãããªã£ã¦ã„ã¾ã™ (SYNC > local)ã€‚\",\n        \"SYNC å´ =\", syncedTotalWrong, \"/ local å´ =\", localTotalWrong,\n        \"ä¸€åº¦ãƒªã‚»ãƒƒãƒˆã—ã¦ã‹ã‚‰å†ãƒ†ã‚¹ãƒˆã—ãŸæ–¹ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\"\n      );\n    }\n\n    console.log(\"== Bãƒ‘ãƒ¼ãƒˆ: 3é€£ç¶šæ­£è§£ / 3é€£ç¶šä¸æ­£è§£ SYNC ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹çµ‚äº† ==\");\n  }\n\n  schedule();\n  showStreakStatus();\n})();\n",
  "work": {
    "project_id": "",
    "task_id": "",
    "request_id": "REQ-1361B2E9"
  },
  "input": {
    "filename": "cscs_sync_view_b.js",
    "size_chars": 181685,
    "sha256": "06411020ecfc9e75977e34d0b4924e45825eb5c03f03b9c70694bb5f3c90c28a",
    "saved_copy": "original/cscs_sync_view_b.js"
  },
  "split": {
    "total_parts": 5,
    "max_chars_per_part": 60000,
    "max_lines_per_part": 1200,
    "strategy": "split_on_newline_preferably_else_hard"
  },
  "parts": [
    {
      "index": 1,
      "total": 5,
      "part_id": "CSCSJS-06411020-P01-of-05",
      "part_sha256": "786ec4ac1ac68c0a808948f11176946106281a4f49f0026f57b36444970347cd",
      "start_offset": 0,
      "end_offset": 33950,
      "len_chars": 33950,
      "file": "parts/part_01.txt"
    },
    {
      "index": 2,
      "total": 5,
      "part_id": "CSCSJS-06411020-P02-of-05",
      "part_sha256": "427de3234f4263ab3d6174778368ef9b19bf4748a07e466d54c42124fc8ce912",
      "start_offset": 33950,
      "end_offset": 70393,
      "len_chars": 36443,
      "file": "parts/part_02.txt"
    },
    {
      "index": 3,
      "total": 5,
      "part_id": "CSCSJS-06411020-P03-of-05",
      "part_sha256": "64acda52f2942ebc63b21bc58eea9394b427705864a5053b283d35c1066c7118",
      "start_offset": 70393,
      "end_offset": 117190,
      "len_chars": 46797,
      "file": "parts/part_03.txt"
    },
    {
      "index": 4,
      "total": 5,
      "part_id": "CSCSJS-06411020-P04-of-05",
      "part_sha256": "9e03a29bf460a115d90b94de986453d278715c7021b2a595da7df1bd7c982ce8",
      "start_offset": 117190,
      "end_offset": 159276,
      "len_chars": 42086,
      "file": "parts/part_04.txt"
    },
    {
      "index": 5,
      "total": 5,
      "part_id": "CSCSJS-06411020-P05-of-05",
      "part_sha256": "0b90b86617f34827a25b3e751ba416d44579bef022d717addb5739ccaedf17b8",
      "start_offset": 159276,
      "end_offset": 181685,
      "len_chars": 22409,
      "file": "parts/part_05.txt"
    }
  ]
}