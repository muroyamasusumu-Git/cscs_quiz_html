<!doctype html>
<html lang="ja">
<meta charset="utf-8">
<title>Set Gemini API Key</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body { font-family: system-ui, -apple-system, sans-serif; padding: 24px; line-height: 1.6; }
  input { width: 100%; padding: 10px; font-size: 16px; }
  button { padding: 10px 16px; font-size: 16px; margin-top: 12px; }
  .msg { margin-top: 16px; color: #056d; }
</style>
<h1>Gemini API Key の設定</h1>
<p>この端末（このブラウザ）の <code>localStorage</code> に API キーを保存します。</p>
<input id="key" type="password" placeholder="AIza... の形式のキーを入力">
<button id="save">保存する</button>
<button id="clear" style="margin-left:8px">削除する</button>
<div class="msg" id="msg"></div>
<script>
  const KEY = 'gemini_api_key';
  const $ = id => document.getElementById(id);
  $('save').onclick = () => {
    const v = $('key').value.trim();
    if (!v) { $('msg').textContent = 'APIキーが空です。'; return; }
    localStorage.setItem(KEY, v);
    $('msg').textContent = '保存しました。このオリジンのページで利用できます。';
  };
  $('clear').onclick = () => {
    localStorage.removeItem(KEY);
    $('msg').textContent = '削除しました。';
  };
</script>