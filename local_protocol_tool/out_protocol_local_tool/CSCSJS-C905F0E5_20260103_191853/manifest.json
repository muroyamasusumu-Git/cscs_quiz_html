{
  "session_id": "CSCSJS-C905F0E5",
  "created_at": "2026-01-03T19:18:53",
  "instruction": "【WORK_HEADER（共通ID）】\n[SESSION_ID: CSCSJS-C905F0E5]\n[REQUEST_ID: REQ-1C8F7127]\n\n【USER_INSTRUCTION】\n✅ cscs_sync_view_b.js（表示専任）\n\t•\t/api/sync/state を読んで window.CSCS_SYNC_DATA を更新\n\t•\tlocalStorage の値と突き合わせて「今どういう状態か」を正確に表示する\n\t•\t/api/sync/merge を叩かない\n\t•\tpayload を組まない\n\t•\t増分計算をしない\n\n✅ b_sync_merge.js（送信専任）\n\t•\tlocalStorage を読み、増分や最新値を組み立てて /api/sync/merge にPOST\n\t•\trecordStreak3TodayUnique / recordStreak3WrongTodayUnique / recordStreakLen を ここで実装\n\t•\tB遷移直後の自動送信トリガー（いまの hidden button + autoclick）は維持してOK（送信“専任”の範囲）\n\n\nBページでの正しい順番は：\n\t1.\tcscs_sync_bootstrap_a.js（最速）\n\t2.\tb_judge_record.js（計測して localStorage を更新）\n\t3.\tb_sync_merge.js（local → merge を送る、record* を提供）\n\t4.\tcscs_sync_view_b.js（state取得して表示）\n\n二つのjsの役割分担をこのようにはっきり分けたい。「cscs_sync_view_b.js」がしていたStreak3TodayUnique Streak3WrongTodayUnique　のマージ処理を以下の 「b_sync_merge.js」に移動させる。\n",
  "work": {
    "project_id": "",
    "task_id": "",
    "request_id": "REQ-1C8F7127"
  },
  "input": {
    "filename": "cscs_sync_view_b.js",
    "size_chars": 172723,
    "sha256": "c905f0e55c99e51863e92f10d1abca5af42648f1314216fa4010dbaa7ad333a3",
    "saved_copy": "original/cscs_sync_view_b.js"
  },
  "split": {
    "total_parts": 5,
    "max_chars_per_part": 60000,
    "max_lines_per_part": 1200,
    "strategy": "split_on_newline_preferably_else_hard"
  },
  "parts": [
    {
      "index": 1,
      "total": 5,
      "part_id": "CSCSJS-C905F0E5-P01-of-05",
      "part_sha256": "786ec4ac1ac68c0a808948f11176946106281a4f49f0026f57b36444970347cd",
      "start_offset": 0,
      "end_offset": 33950,
      "len_chars": 33950,
      "file": "parts/part_01.txt"
    },
    {
      "index": 2,
      "total": 5,
      "part_id": "CSCSJS-C905F0E5-P02-of-05",
      "part_sha256": "a6bb3c250d6543fcc6f3334f2474e274b21e97a5eb0ba5aded7ed368aa915c7d",
      "start_offset": 33950,
      "end_offset": 70963,
      "len_chars": 37013,
      "file": "parts/part_02.txt"
    },
    {
      "index": 3,
      "total": 5,
      "part_id": "CSCSJS-C905F0E5-P03-of-05",
      "part_sha256": "af70cfaf810569077ede9cdf03040d678d9cc53ad717ab4239676935785ce0e3",
      "start_offset": 70963,
      "end_offset": 114468,
      "len_chars": 43505,
      "file": "parts/part_03.txt"
    },
    {
      "index": 4,
      "total": 5,
      "part_id": "CSCSJS-C905F0E5-P04-of-05",
      "part_sha256": "dc93c03e795018e53c55922bbee6dc0a890a76f93af29a5ad69e2965c162e585",
      "start_offset": 114468,
      "end_offset": 158960,
      "len_chars": 44492,
      "file": "parts/part_04.txt"
    },
    {
      "index": 5,
      "total": 5,
      "part_id": "CSCSJS-C905F0E5-P05-of-05",
      "part_sha256": "168e3620f6b914d332b57b4bc5a45646bf7396945601689693064e7ea2ceb49d",
      "start_offset": 158960,
      "end_offset": 172723,
      "len_chars": 13763,
      "file": "parts/part_05.txt"
    }
  ]
}