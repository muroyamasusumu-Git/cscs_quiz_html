{
  "session_id": "CSCSJS-52F9F1A8",
  "created_at": "2026-01-03T19:18:53",
  "instruction": "【WORK_HEADER（共通ID）】\n[SESSION_ID: CSCSJS-52F9F1A8]\n[REQUEST_ID: REQ-1C8F7127]\n\n【USER_INSTRUCTION】\n✅ cscs_sync_view_b.js（表示専任）\n\t•\t/api/sync/state を読んで window.CSCS_SYNC_DATA を更新\n\t•\tlocalStorage の値と突き合わせて「今どういう状態か」を正確に表示する\n\t•\t/api/sync/merge を叩かない\n\t•\tpayload を組まない\n\t•\t増分計算をしない\n\n✅ b_sync_merge.js（送信専任）\n\t•\tlocalStorage を読み、増分や最新値を組み立てて /api/sync/merge にPOST\n\t•\trecordStreak3TodayUnique / recordStreak3WrongTodayUnique / recordStreakLen を ここで実装\n\t•\tB遷移直後の自動送信トリガー（いまの hidden button + autoclick）は維持してOK（送信“専任”の範囲）\n\n\nBページでの正しい順番は：\n\t1.\tcscs_sync_bootstrap_a.js（最速）\n\t2.\tb_judge_record.js（計測して localStorage を更新）\n\t3.\tb_sync_merge.js（local → merge を送る、record* を提供）\n\t4.\tcscs_sync_view_b.js（state取得して表示）\n\n二つのjsの役割分担をこのようにはっきり分けたい。「cscs_sync_view_b.js」がしていたStreak3TodayUnique Streak3WrongTodayUnique　のマージ処理を以下の 「b_sync_merge.js」に移動させる。\n",
  "work": {
    "project_id": "",
    "task_id": "",
    "request_id": "REQ-1C8F7127"
  },
  "input": {
    "filename": "b_sync_merge.js",
    "size_chars": 25349,
    "sha256": "52f9f1a813b3b86b8ae826216565a6e3923b21ff633f21b22ebb894d4d81f296",
    "saved_copy": "original/b_sync_merge.js"
  },
  "split": {
    "total_parts": 1,
    "max_chars_per_part": 60000,
    "max_lines_per_part": 1200,
    "strategy": "split_on_newline_preferably_else_hard"
  },
  "parts": [
    {
      "index": 1,
      "total": 1,
      "part_id": "CSCSJS-52F9F1A8-P01-of-01",
      "part_sha256": "52f9f1a813b3b86b8ae826216565a6e3923b21ff633f21b22ebb894d4d81f296",
      "start_offset": 0,
      "end_offset": 25349,
      "len_chars": 25349,
      "file": "parts/part_01.txt"
    }
  ]
}