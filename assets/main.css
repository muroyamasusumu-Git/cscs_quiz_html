/* A：縦長（スマホ縦） */
/* @media (aspect-ratio < 0.8) {
  body {
  }
.wrap {
margin: 0;
line-height: 1;
width: 100% !important;
}

#nl-panel {
    position: initial !important;
    margin-left: 0 !important;
    margin-top: 15px !important;
}*/


  
  .slide-content {
  }
}

/* B：ほぼ正方形（iPad / PC小ウィンドウ） */
@media (0.8 <= aspect-ratio <= 1.2) {
  .slide-content {
  }
}

/* C：横長（PC / iPad横） */
@media (aspect-ratio > 1.2) {
  body {
  }
  .slide-content {
  }
}

html, body {
font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Segoe UI", "Noto Sans JP", sans-serif;
  position: static !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  width: auto !important;
  height: auto !important;
  min-height: 0 !important;
  overflow: auto !important;
}

#root {
margin: 5px 20px 75px;
}

.wrap {
    position: relative;
    margin: 0;
    line-height: 1;
    width: 69%;
    overflow-y: auto;
    transform: translateZ(0);  /* レイヤーを揃えて描画ズレを減らす */
}



p {
margin: 0;
}

.hr {
margin: 0;
height: 0;
display: none ;
}

h1 {
line-height: 1 !important;
margin-top: 15px;
font-size: 40px !important;
padding-bottom: 2px;
margin-right: 0 !important;
}


.topmeta {
margin-bottom: 0 !important;
gap: 0 !important;
margin-right: 0 !important;
    display: block !important;
    opacity: 0.6 !important;
    font-size: 19px !important;
    height: 18px !important;
    vertical-align: bottom !important;
}


.topmeta-left {
    display: flex ;
    flex-wrap: wrap;
    gap: 9px !important;
    align-items: center;
}

.opts li {
margin-top: 15px;
margin-bottom: 0px;
font-size: 30px;
padding-bottom: 1px;
}

body.mode-b ol.opts {
    margin-bottom: 10px;
}

body.mode-b .opts li {
margin-top: 15px !important;
opacity: 0.3;
}

body.mode-b .opts .is-correct {
opacity: 1 !important;
}



#judge {
margin-top: 10px;
}

/* O.D.O.A Mode（no choice / no count）専用メッセージ */
.judge-odoa-nocount {
  font-size: 0.7em !important;     /* ← 好きな大きさに変更してOK */
  opacity: 0.9;          /* ← 調整しやすいように軽く薄くしておく（変更自由） */
  display: inline-block; /* レイアウト安定用 */
  margin: 0 0 5px !important;       /* 微調整 */
}

#judge.answer {
font-size: 0.9em !important;
margin: 0 0 5px;
}

.hint {
margin-top: 0;
font-size: 16px;
opacity: 0.4;
margin-left: -10px;
font-weight: 300;
}

#similar-list {
    margin: 10px 0 0;
    padding-top: 0;
    opacity: 0.55;
}


.qno {
margin: 10px 0 0;
opacity: 0.7;
}

.consistency_status {
margin: 0 5px 0 0;
}

/* === correct_star.js 用のスター表示制御 === */
.correct_star {
  display: none;
  margin-right: 4px;
  font-size: 1.05em;
}

.correct_star[data-star-state="on"] {
  display: inline-block;
}


/* ▼ explain_menu 専用スタイル（他へ影響しない設計） ▼ */

.explain_menu {
    display: flex !important;
    flex-direction: row !important;
    align-items: center !important;
    gap: 12px !important;
    margin: 5px 0;
    font-size: 14px;
}

/* メニュー内の2つの子 div を横並び用に調整 */
.explain_menu > div {
  display: flex !important;
  flex-direction: row !important;
  align-items: center !important;
  margin: 0 !important;
  padding: 0 !important;  
}

/* 中のリンク文字を白に統一 */
.explain_menu a {
  color: #ffffff !important;
  text-decoration: underline !important;
}

/* deep_dive_inline.js が付ける強制 inline style を無効化 */
#cscs-consistency-explain-link-wrapper {
    margin-top: 0 !important;
    gap: 12px;
}
.explain_menu .dd-head{
  margin-bottom: 0 !important;
}

.explain {
font-size: 16px;
margin: 10px 0 0;
margin-right: 0 !important;
width: 100% ;
opacity: 0.4;
}

.explain-text {
  line-height: 1.25;
}

#dd-inline .dd-body-cause {
    font-size: 13px !important;
    line-height: 20px !important;
}


.wrong-inline{
margin-left: 0;
color: #fff;
font-size: 0.5em;
opacity: .95;
position: fixed;   /* 画面基準で固定。DOMは.wrap配下でもOK */
bottom: 64px;
right: 14px;
z-index: 10060;
pointer-events: none;   /* 誤タップ防止 */
white-space: nowrap;
}

.wrap ol.opts {
padding-top: 0;
margin-left: 10px;
}



/* ===== 不正解行の色を揃える（推奨：#judgeに状態クラス .is-wrong を付与） ===== */
#judge.is-wrong,
#judge.is-wrong * {
  color: #c9c9c9 !important;
}

/* もし .is-wrong を付けない場合の保険（b_judge が .judge-msg-wrong を出す前提） */
#judge .judge-msg-wrong,
#judge .judge-msg-wrong ~ .your-choice,
#judge .judge-msg-wrong ~ .your-choice * {
  color: #c9c9c9 !important;
}

/* 強制的に your-choice のフォントサイズを上書き */
#judge .your-choice {
  font-size: 0.7em !important;  /* ← 好きなサイズに変更 */
  color: #c9c9c9 !important;     /* ついでに色も統一 */
}


/* ===============================
   整合性チェックパネル共通
   =============================== */

#cscs-consistency-panel,
#cscs-consistency-panel * {
  font-weight: 400 !important;
  opacity: 0.75;
  margin-top: 0;
  color: #ffffff !important; 
}

#cscs-consistency-panel {
  /* ★ ここだけいじれば全体サイズを一括調整できる */
  --cc-base-font: 13px;   /* ベースフォントサイズ */
  --cc-font-scale: 1.1;     /* 全体スケール（0.9 や 1.1 などに変える） */
  font-size: calc(var(--cc-base-font) * var(--cc-font-scale));
  color: rgb(238, 238, 238);
    width: 97% !important;
    padding: 0 5px;
    font-size: 12px;
    line-height: 14px;
}

/* ヘッダー行とボタン */

#cscs-consistency-panel .cc-panel-header-row {
  display: none !important;
}

#cscs-consistency-panel .cc-panel-header-title {
  font-size: 14px;  /* ベースより少し大きめ */
  font-weight: 600;
}

#cscs-consistency-panel .cc-panel-header-actions {
  display: flex;
  gap: 6px;
}

#cscs-consistency-panel #cscs-consistency-reopen-link {
  color: #ffffff !important; 
}

#cscs-consistency-panel .cc-panel-header-title{
  color: #ffffff !important; 
}


/* ボタン共通 */

#cscs-consistency-panel .cc-btn {
  border-radius: 4px;
  padding: 2px 8px;
  font-size: 0.92em;  /* ベースより少し小さめ */
  cursor: pointer;
  border: 1px solid #777777;
  background: #222222;
  color: #ffffff;
}

#cscs-consistency-panel .cc-btn-secondary {
  background: #222222;
}

#cscs-consistency-panel .cc-btn-close {
  background: #333333;
}

/* 分類ボックス */

#cscs-consistency-panel .cc-panel-classification {
  margin-bottom: 10px;
  padding: 8px 10px;
  border-radius: 6px;
  border: 1px solid #555555;
  background: #181818;
  margin-top: 15px;
}

#cscs-consistency-panel .cc-classification-title {
  font-size: 1em;   /* ベースと同じ */
  font-weight: 600;
  margin-bottom: 4px;
}

#cscs-consistency-panel .cc-classification-reason {
  font-size: 0.92em;
  line-height: 1.4;
  white-space: pre-wrap;
  color: #dddddd;
}

/* 概要部分と4カード */

#cscs-consistency-panel .cc-panel-summary {
  margin-bottom: 10px;
  font-size: 1em;
}

#cscs-consistency-panel .cc-panel-summary-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 6px;
}

#cscs-consistency-panel .cc-summary-mode {
  font-size: 0.92em;
  color: #dddddd;
  font-weight: 400;
}

#cscs-consistency-panel .cc-summary-overall {
  font-size: 1.08em;
  font-weight: 600;
}

#cscs-consistency-panel .cc-panel-cards {
  display: flex;
  flex-wrap: nowrap;
  gap: 8px;
}

#cscs-consistency-panel .cc-card {
  flex: 1 1 0;
  min-width: 0;
  box-sizing: border-box;
  border: 1px solid #444444;
  border-radius: 6px;
  padding: 8px 10px;
  background: #1b1b1b;
}

#cscs-consistency-panel .cc-card-title {
  font-size: 0.92em;
  color: #bbbbbb;
  margin-bottom: 4px;
  font-weight: 400;
}

#cscs-consistency-panel .cc-card-main {
  font-size: 1em;
  font-weight: 600;
  margin-bottom: 2px;
}

#cscs-consistency-panel .cc-card-sub {
  font-size: 0.85em;
  color: #cccccc;
}

/* 解説文の全体コメント */

#cscs-consistency-panel .cc-section-summary {
  margin-bottom: 8px;
}

#cscs-consistency-panel .cc-section-title {
  font-weight: 600;
  margin-bottom: 4px;
  font-size: 1em;
}

#cscs-consistency-panel .cc-summary-text {
  white-space: pre-wrap;
  line-height: 1.4;
  font-size: 1em;
}

/* 仕切り線 */

#cscs-consistency-panel .cc-separator {
  border-top: 1px solid #444444;
  margin: 8px 0 6px 0;
}

/* 詳細セクション共通 */

#cscs-consistency-panel .cc-section {
  margin-bottom: 8px;
}

#cscs-consistency-panel .cc-section-status {
  font-size: 0.92em;
  color: #cccccc;
  margin-bottom: 4px;
}

#cscs-consistency-panel .cc-section-mode-reason {
  font-size: 0.92em;
  color: #88ddff;
  margin-bottom: 4px;
}

#cscs-consistency-panel .cc-section-subtitle {
  font-size: 0.92em;
  color: #cccccc;
  margin-bottom: 2px;
}

#cscs-consistency-panel .cc-section-list {
  margin: 4px 0 0 16px;
  padding: 0;
  font-size: 0.92em;
  line-height: 1.4;
}

/* もし再掲部分を復活させる場合用 */

#cscs-consistency-panel .cc-meta-line {
  margin-bottom: 6px;
  font-size: 0.92em;
  color: #aaaaaa;
}

#cscs-consistency-panel .cc-section-text {
  white-space: pre-wrap;
  line-height: 1.4;
  font-size: 1em;
}

/* ===============================
   画面右上のステータス / ボタン
   =============================== */

#cc-check-wrapper {
    position: fixed;
    right: 0;
    z-index: 99999;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    width: 150px;
    padding: 0;
}

body.mode-a #cc-check-wrapper {
    top: 43px;
    opacity: 0.6 !important;
}

body.mode-b #cc-check-wrapper {
    top: 0px;
    opacity: 0.6 !important;
}


#cc-check-status {
  font-size: 11px;
  border-radius: 4px;
  color: #dddddd;
  opacity: 0.3;
  pointer-events: none;
  white-space: pre-line;
  line-height: 1.2;
  margin: 0 0 8px 0;  
}

#cc-check-btn {
  z-index: 99999;
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 6px;
  border: 1px solid #666666;
  background: #222222;
  margin: 0 0 0 0;
  color: #eeeeee;
  opacity: 0.45;
  cursor: pointer;
  display: block;
}

#cc-sync-clear-btn {
  z-index: 99999;
  font-size: 10px;
  padding: 3px 7px;
  border-radius: 6px;
  border: 0 solid #666666;
  background: #ccc;
  margin: 7px 0 0 0;
  color: #000;
  opacity: 0.20;
  cursor: pointer;
  display: block;
}

/* ===============================
   Aパート SYNC モニタ (#cscs_sync_monitor_a)
   =============================== */

#cscs_sync_monitor_a {
  position: fixed;
  right: 0;
  top: 125px;
  z-index: 9999;
  background: transparent;
  color: #eee;
  border: 0 solid #444;
  border-radius: 0;
  padding: 0;
  font: 11px/1.2 system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  max-width: 46vw;
  width: 150px;
  opacity: 0.20;
}

/* 見出し行： "SYNC(A): <qid>" */
#cscs_sync_monitor_a .sync-header {
  margin-bottom: 1px;
  opacity: 0.8;
}

/* server/local/queue/status 共通ライン */
#cscs_sync_monitor_a .sync-line {
  margin-bottom: 0;
  font-size: 11px;
  opacity: 0.85;
}

/* status 行だけ少し行間大きめ */
#cscs_sync_monitor_a .sync-status-row {
  margin-bottom: 8px;
  line-height: 1.2;
}

/* server 行だけ別にしたければここで調整可能 */
#cscs_sync_monitor_a .sync-totals {
  /* 必要なら個別調整 */
}

/* （コメントアウト中の）テストボタン行用：復帰時に効く */
#cscs_sync_monitor_a .sync-test-row,
#cscs_sync_monitor_a .sync-reset-row {
  display: block;
  flex-wrap: wrap;
  margin-bottom: 4px;
}


/* reset 行は下マージンなしにしたい場合はこちらで上書き */
#cscs_sync_monitor_a .sync-reset-row {
  margin-bottom: 0;
}

/* テストボタン／リセットボタン共通 */
#cscs_sync_monitor_a .sync-test-button,
#cscs_sync_monitor_a .sync-reset-button {
  font-size: 10px;
  opacity: 0.7;
  margin: 0 0 7px;
  display: block;
}

/* ===============================
   Bパート SYNC パネル表示用
   #cscs_sync_view_b 一式
   =============================== */

#cscs_sync_view_b {
  position: fixed;
  right: 0;                /* 右寄せ */
  top: 150px;
  opacity: 0.20;           /* 透明度 */
  z-index: 9999;
  background: transparent;
  color: #eee;
  border: 0 solid #444;
  border-radius: 8px;
  padding: 0 0;
  font: 11px system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  line-height: 1;
  max-width: 46vw;
  width: 150px;
  pointer-events: auto;
}

/* タイトル行： "SYNC(B): 2025xxxx-xxx" */
#cscs_sync_view_b_title {
  margin-bottom: 4px;
  opacity: 0.8;
}

/* server/local/diff の本体部分 */
#cscs_sync_view_b_body {
  margin-bottom: 0;
  font-size: 11px;
  opacity: 0.85;
  display: flex;           /* 縦並び */
  flex-direction: column;  /* 縦方向 */
  gap: 2px;                /* 行間 */
}

/* status: xxx 行を表示する領域 */
#cscs_sync_view_b_status {
  margin-bottom: 8px;
  font-size: 10px;
  opacity: 0.9;
}

/* SYNC送信ボタン */
#cscs_sync_view_b_send_btn {
  margin-top: 0;
  font-size: 10px;
  opacity: 0.7;
  padding: 2px 6px;
}

/* ===============================
   B_CORRECT_UNDERLINE_CSS
   =============================== */

/* B: 正解の選択肢に下線（AタグがないBレイアウトにも対応） */
ol.opts li.is-correct {
  text-decoration: underline !important;
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
}
/* 将来Aタグ化された場合にも効くように併記 */
ol.opts li.is-correct > a.opt-link,
ol.opts li.is-correct a.opt-link {
  text-decoration: underline !important;
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
}
/* Fallback：太さ未対応ブラウザ */
@supports not (text-decoration-thickness: 2px) {
  ol.opts li.is-correct { border-bottom: 2px solid currentColor; padding-bottom: 2px; }
}

/* ===============================
   AUDIO_BTN_CSS
   =============================== */
/* 失敗時にだけ出る小さな再生ボタン */
.audio-fallback-btn{
  position: fixed;
  right: 16px;
  bottom: 16px; /* 右下配置（現状維持） */
  padding: 8px 12px;
  font-size: 16px;
  background: #222;
  color: #fff;
  border: 1px solid #444;
  border-radius: 8px;
  cursor: pointer;
  opacity: .9;
  z-index: 10000; /* Bのオーバーレイより前面 */
}
.audio-fallback-btn:hover{ opacity: 1; }

/* ===============================
   MOBILE_LINK_FIX_CSS
   =============================== */
/* iOSの「リンクは青」の強制を殺して、本文色を継承させる
/* 選択肢リンクの色を常に本文色に（iOSのvisited/activeの青/紫も潰す） */
ol.opts a.opt-link,
ol.opts a.opt-link:link,
ol.opts a.opt-link:visited,
ol.opts a.opt-link:active,
ol.opts a.opt-link:hover,
ol.opts a.opt-link:focus {
  color: inherit !important;
  -webkit-text-fill-color: currentColor !important; /* iOS Safari */
  text-decoration: none;
}
ol.opts a.opt-link:hover,
ol.opts a.opt-link:focus { text-decoration: underline; }

/* iOSのタップ時ハイライトを控えめに */
a { -webkit-tap-highlight-color: rgba(255,255,255,0.12); }

/* ===============================
   TOPDATE_CSS_SNIPPET
   =============================== */
.top-date {
    color: #a8b0b8;
    opacity: .95;
    font-size: 20px;
    width: auto;
    margin: 0 10px 0 0;
}
.crumb-field {
    font-size: 20px;
    font-weight: 400;
}
.crumb-theme {
    font-size: 20px;
    opacity: .85;
}
.correct_star {
    display: none;
    font-size: 22px;
    margin: 0 0 0 0;
}
/* ===============================
   TOP_LINK_CSS
   =============================== */
/* 左下 [TOPへ戻る] ボタン */
.back-to-top {
  position: fixed;
  left: 16px;
  bottom: 16px;
  padding: 6px 10px;
  background: rgba(255,255,255,0.08);
  color: #66d9ff;
  font-size: 16px;
  border-radius: 6px;
  text-decoration: none;
  z-index: 10050; /* オーバーレイ(9999)や他要素より前面にしてクリック可能に */
  transition: background 0.2s, opacity 0.2s;
}
.back-to-top:hover {
  background: rgba(255,255,255,0.15);
  opacity: 1.0;
}

/* ===============================
   B_OVERLAY_CSS
   =============================== */
/* 画面全体クリック用の透明オーバーレイ */
.next-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: transparent;
  cursor: pointer;
  display: block;
}
/* ===============================
   JUDGE_CSS
   =============================== */
/* 判定用メッセージだけ少し控えめに */
#judge {
  font-size: 28px;
  margin-top: 12px;
  opacity: 0.9;
}

/* ===============================
   audio_fallback.css 
   =============================== */
.audio-fallback-btn {
  font-size: 16px;
  padding: 8px 14px;
  border-radius: 8px;
  background: #444;
  color: white;
  border: none;
  margin-top: 10px;
}


/* ===============================
   #cscs-log.css 
   =============================== */

#cscs-log-bg {
    position: fixed;
    bottom: 50px;
    left: 20px;
    width: 66%;
    height: 24%;
    z-index: 9999;
    pointer-events: none;
    display: flex;
    justify-content: center;
    text-align: left;
    white-space: pre-wrap;
    overflow: hidden;
    box-sizing: border-box;
    opacity: 0.1;
    font-size: 10px;
    font-family: Menlo, Consolas, Monaco, monospace;
    line-height: 2;
    color: rgb(255, 255, 255);
    background-color: rgba(0, 0, 0, 0.6);
    background: none;
}

#cscs-log-bg-inner {
    max-width: 100%;
}
